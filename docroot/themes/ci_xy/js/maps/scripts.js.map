{"version":3,"sources":["accordion.js"],"names":["$","Drupal","behaviors","ckeditorAccordion","attach","context","settings","$ckeditorAccordion","length","each","$accordion","this","hasClass","children","$tab","tabText","html","trim","$accordionTabColor","has","addClass","find","parent","removeClass","wrap","once","on","e","$t","$parent","next","slideUp","slideDown","preventDefault","jQuery"],"mappings":"CAKA,SAAWA,GACP,YACAC,QAAOC,UAAUC,mBACbC,OAAQ,SAAUC,EAASC,GAGvB,GAAIC,GAAqBP,EAAE,sBACvBO,GAAmBC,OAAS,IAE5BD,EAAmBE,KAAK,WACpB,GAAIC,GAAaV,EAAEW,KACfD,GAAWE,SAAS,YASxBF,EAAWG,SAAS,MAAMJ,KAAK,WAC3B,GAAIK,GAAOd,EAAEW,MACTI,EAAUD,EAAKE,OAAOC,OAEtBC,EAAqBlB,EAAE,8BAC3BkB,GAAmBC,IAAI,QAAQC,SAAS,4BACxCF,EAAmBG,KAAK,QAAQC,OAAO,QAAQF,SAAS,2BAExDN,EAAKE,KAAK,iGAAmGD,EAAU,UAG3HL,EAAWU,SAAS,UAAUG,YAAY,sBAAsBC,KAAK,uDAIzExB,EAAE,QAAQyB,KAAK,gCAAgCC,GAAG,QAAS,gDAAiD,SAAUC,GAClH,GAAIC,GAAK5B,EAAEW,MAAMW,SACbO,EAAUD,EAAGN,QAGbM,GAAGhB,SAAS,WACZgB,EAAGL,YAAY,UACfK,EAAGE,OAAOC,YAIVF,EAAQhB,SAAS,aAAaU,YAAY,UAAUV,SAAS,KAAKU,YAAY,UAC9EM,EAAQhB,SAAS,aAAakB,QAAQ,WAClC/B,EAAEW,MAAMY,YAAY,YAIxBK,EAAGR,SAAS,UACZQ,EAAGE,OAAOE,UAAU,KAAKZ,SAAS,WAItCO,EAAEM,uBAKnBC","file":"../scripts.js","sourcesContent":["/**\n * @file\n * CKEditor Accordion functionality.\n */\n\n(function ($) {\n    'use strict';\n    Drupal.behaviors.ckeditorAccordion = {\n        attach: function (context, settings) {\n\n            // Create accordion functionality if the required elements exist is available.\n            var $ckeditorAccordion = $('.ckeditor-accordion');\n            if ($ckeditorAccordion.length > 0) {\n                // Create simple accordion mechanism for each tab.\n                $ckeditorAccordion.each(function () {\n                    var $accordion = $(this);\n                    if ($accordion.hasClass('styled')) {\n                        return;\n                    }\n\n                    // The first one is the correct one.\n                    // $accordion.children('dt:first').addClass('active');\n                    // $accordion.children('dd:first').addClass('active');\n\n                    // Turn the accordion tabs to links so that the content is accessible & can be traversed using keyboard.\n                    $accordion.children('dt').each(function () {\n                        var $tab = $(this);\n                        var tabText = $tab.html().trim();\n                        //var toggleClass = $tab.hasClass('active') ? ' active' : '';\n                        var $accordionTabColor = $('.ckeditor-accordion-toggler');\n                        $accordionTabColor.has('span').addClass('accordion__title--no-pad');\n                        $accordionTabColor.find('span').parent('span').addClass('accordion__title--color');\n                        //$tab.html('<span class=\"ckeditor-accordion-toggle' + toggleClass + '\"></span><a class=\"ckeditor-accordion-toggler\" href=\"#\">' + tabText + '</a>')\n                        $tab.html('<span class=\"ckeditor-accordion-toggle\"></span><a class=\"ckeditor-accordion-toggler\" href=\"#\">' + tabText + '</a>');\n                    });\n                    // Wrap the accordion in a div element so that quick edit function shows the source correctly.\n                    $accordion.addClass('styled').removeClass('ckeditor-accordion').wrap('<div class=\"ckeditor-accordion-container\"></div>');\n                });\n\n                // Add click event to body once because quick edits & ajax calls might reset the HTML.\n                $('body').once('ckeditorAccordionToggleEvent').on('click', '.ckeditor-accordion-toggler, .panel-default a', function (e) {\n                    var $t = $(this).parent();\n                    var $parent = $t.parent();\n\n                    // Clicking on open element, close it.\n                    if ($t.hasClass('active')) {\n                        $t.removeClass('active');\n                        $t.next().slideUp();\n                    }\n                    else {\n                        // Remove active classes.\n                        $parent.children('dt.active').removeClass('active').children('a').removeClass('active');\n                        $parent.children('dd.active').slideUp(function () {\n                            $(this).removeClass('active');\n                        });\n\n                        // Show the selected tab.\n                        $t.addClass('active');\n                        $t.next().slideDown(300).addClass('active');\n                    }\n\n                    // Don't add hash to url.\n                    e.preventDefault();\n                });\n            }\n        }\n    };\n})(jQuery);\n"]}